(this["webpackJsonpreact-dota-api-test"]=this["webpackJsonpreact-dota-api-test"]||[]).push([[0],{20:function(e,n,t){},24:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t(0),a=t.n(r),o=t(11),u=t.n(o),i=(t(20),t(3)),s=t(5),l=t.n(s),f=t(8),b=t(2),d=t(4);function j(){var e=Object(i.a)(["\n    font-size: 16px;\n    padding: ;\n    border-radius: ;\n    width: 100%\n\n"]);return j=function(){return e},e}function p(){var e=Object(i.a)(["\n    font-size: 16px;\n    padding: 0.5em;\n    border: none;\n    appearance: button;\n    width:100%;\n    :hover {\n        color: orange;\n    }\n    margin-bottom: 1em;\n"]);return p=function(){return e},e}function g(){var e=Object(i.a)(["\n    background-color: rgba(0, 0, 0, 0.05);\n    font-size 16px;\n    padding: 0.5em;\n    font-weight: 900;\n    width: 12%;\n\n"]);return g=function(){return e},e}function h(){var e=Object(i.a)(["\n    font-size: 16px;\n    border: none;\n    width: 88%;\n    padding: 0.5em;\n    padding-left: 0.75em;\n\n"]);return h=function(){return e},e}function O(){var e=Object(i.a)(["\n    background-color: #ffffff;\n    align-items: center;\n    display: flex;\n    width: 100%;\n"]);return O=function(){return e},e}var v=d.a.div(O()),x=d.a.input(h()),y=d.a.div(g()),m=d.a.select(p()),S=d.a.div(j()),w=function(e){var n=e.id,t=e.value,r=e.currency,a=(e.currencyTest,e.setCurrency),o=e.setTargetValue,u=e.currencyList,i=e.currencyData;return console.log("CurrencySelector >> currencyData: ",i),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(S,{children:[Object(c.jsx)(m,{default:r,value:r,onChange:function(e){return a(e.target.value)},name:"currency",id:"currency",children:u.map((function(e,n){return Object(c.jsx)("option",{value:e,children:i[e]?"".concat(i[e].currencyName,"  (").concat(e,")"):"NONC"})}))},n+"CA"),Object(c.jsxs)(v,{children:[Object(c.jsx)(x,{value:t,onChange:function(e){var n=e.target.value.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1");o(n)},type:"text",name:"textinputter"},n+"DA"),Object(c.jsx)(y,{children:i[r]?i[r].currencySymbol:"NONC"},n+"DB")]},n+"D")]},n+"C")})};function C(){var e=Object(i.a)(["\n  \n  background-color: #e7e7e7;\n  padding: 2.5em;\n  margin: 2.5em;\n  display: flex;\n  justify-content: space-between;\n  border-radius: 0.3em;\n  width: 600px;\n\n\n"]);return C=function(){return e},e}function E(){var e=Object(i.a)(["\n  background-color: #e7e7e7;\n  font-size: 35px;\n  line-height: 0px;\n  height: 31.5px;\n  width: 25%;\n  border: none;\n  :hover {\n    color: orange;\n    font-weight:900;\n  }\n"]);return E=function(){return e},e}var T=d.a.input(E()),A=d.a.div(C()),D=function(){var e=Object(r.useState)(["USD","SEK"]),n=Object(b.a)(e,2),t=n[0],a=n[1],o=Object(r.useState)(["USD","SEK"]),u=Object(b.a)(o,2),i=u[0],s=u[1],d=function(){var e=Object(f.a)(l.a.mark((function e(){var n,t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getCurrencies() START"),e.next=3,fetch("https://free.currconv.com/api/v7/currencies?&apiKey=87b4f9fb2be631bed0c8");case 3:if(n=e.sent,console.log("result from API",n),!n){e.next=10;break}return e.next=8,n.json();case 8:t=e.sent,console.log("JSON from result",t);case 10:c=Object.keys(t.results),console.log("newCurrencies: ",c),a(t.results),s(c);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){d()}),[]),Object(r.useEffect)((function(){console.log("A USESTATE HAS CHANGED")}));var j=Object(r.useState)("SEK"),p=Object(b.a)(j,2),g=p[0],h=p[1],O=Object(r.useState)(100),v=Object(b.a)(O,2),x=v[0],y=v[1],m=Object(r.useState)("EUR"),S=Object(b.a)(m,2),C=S[0],E=S[1],D=Object(r.useState)(300),k=Object(b.a)(D,2),F=k[0],N=k[1],R=Object(r.useState)(),U=Object(b.a)(R,2),I=U[0],L=(U[1],Object(r.useState)()),P=Object(b.a)(L,2),z=P[0],B=(P[1],Object(r.useState)(3)),H=Object(b.a)(B,2),K=H[0],V=H[1];Object(r.useEffect)((function(){console.log("CURRENCIES CHANGED: ",g," >> ",C),G()}),[g,C]);var G=function(){var e=Object(f.a)(l.a.mark((function e(){var n,t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://free.currconv.com/api/v7/convert?q=".concat(g,"_").concat(C,"&compact=ultra&apiKey=87b4f9fb2be631bed0c8"));case 2:if(!(n=e.sent)){e.next=12;break}return e.next=6,n.json();case 6:t=e.sent,c=t["".concat(g,"_").concat(C)],V(c),N(x*c),e.next=13;break;case 12:console.log("EXCHANGERATE FETCH FAIL");case 13:return console.log("Fetched exchange data..."),e.abrupt("return");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){console.log("targetValue useEffect >> ",F)}),[F]),Object(r.useEffect)((function(){console.log("sourceValue useEffect >> ",x)}),[x]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(A,{children:[Object(c.jsx)(w,{id:"B",value:x,currency:g,currencyTest:I,setCurrency:h,setTargetValue:function(e){console.log("UPDATE FROM SOURCE >> ",e),y(e),N(e*K)},currencyList:i,currencyData:t}),Object(c.jsx)(T,{type:"button",onClick:function(e){return function(){console.log("Swapping currencies");var e=g,n=C;console.log("Swapping sourceCurrency"),h(n),console.log("Swapping targetCurrency"),E(e),console.log("Swapping DONE")}()},value:"\u21d4"}),Object(c.jsx)(w,{id:"B",value:F,currency:C,currencyTest:z,setCurrency:E,setTargetValue:function(e){console.log("UPDATE FROM TARGET >> ",e),y(e/K),N(e)},currencyList:i,currencyData:t})]}),Object(c.jsx)("h2",{children:"Functionality"}),Object(c.jsx)("p",{children:"Currently fetches all currencies at a refresh, meaning if one were to for some reason disappear/appear, it will not be reflected in the list. Could lead to not being able to fetch the exchange rate of the now non-existant currency."}),Object(c.jsx)("p",{children:"Fetches the exchange rate of the two currencies when switching currency via the list."}),Object(c.jsx)("p",{children:"API calls are limited to 100/hour."})]})},k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,25)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};u.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(D,{})}),document.getElementById("root")),k()}},[[24,1,2]]]);
//# sourceMappingURL=main.24a7065a.chunk.js.map